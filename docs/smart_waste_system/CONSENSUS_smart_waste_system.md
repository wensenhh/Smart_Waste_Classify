# CONSENSUS: 智能垃圾分类系统项目共识文档

## 一、项目概述
智能垃圾分类系统是一个无硬件依赖、聚焦交互体验、用户粘性和宣传教育的移动端Web应用，旨在通过AI技术提升公众垃圾分类意识和参与度。

## 二、明确的需求描述与验收标准

### 1. 核心功能需求

**1.1 AI识别功能**
- **图像识别**: 支持单/多垃圾同时拍摄识别，识别速度≤2秒，准确率≥90%
- **语音识别**: 支持语音描述垃圾名识别，识别准确率≥85%
- **文字搜索**: 支持垃圾名称关键词搜索，搜索结果响应时间≤500ms
- **本地缓存**: 缓存常见垃圾特征，弱网环境下仍能快速响应

**1.2 用户交互功能**
- **一键式操作**: 首页提供拍照、语音、文字三大核心功能快捷入口
- **场景化分类**: 覆盖家庭厨余、外卖打包、节日垃圾等常见场景
- **地域适配**: 支持马来西亚不同城市的垃圾分类标准切换
- **历史记录**: 自动保存用户近7天识别记录

**1.3 互动激励功能**
- **积分系统**: 签到、识别垃圾、分享内容可获取积分，支持积分兑换
- **成就勋章**: 设置分类达人、厨余小能手等勋章，支持分享
- **社交互动**: 好友PK、社区圈子、组队挑战功能
- **答题系统**: 每日一答、闯关模式，含题目解析

**1.4 宣传教育功能**
- **分层教育**: 儿童向动画、成人向政策解读、专业向细分手册
- **海报生成**: 支持生成分类成绩单海报，可分享至社交平台
- **知识服务**: 内置短视频、专属知识卡、直播答疑

**1.5 个人中心功能**
- **数据看板**: 展示总识别次数、碳减排量、日均使用时长
- **月度报告**: 生成个人分类月报，含同城对比和进步建议
- **设置管理**: 城市分类标准设置、消息通知设置
- **反馈建议**: 用户反馈收集功能

### 2. 技术与性能需求

**2.1 技术栈**
- **前端框架**: Vue 3
- **状态管理**: Pinia
- **构建工具**: Vite
- **UI框架**: Vant (移动端优先)
- **国际化**: Vue I18n (支持中、英、马来语)
- **路由**: Vue Router
- **HTTP客户端**: Axios

**2.2 用户体验**
- **移动端优先**: 页面适配移动端屏幕，交互体验接近原生应用
- **骨架屏**: 关键页面加载时显示骨架屏，提升感知性能
- **响应速度**: 页面切换时间≤300ms，操作反馈≤100ms
- **离线支持**: 部分核心功能支持离线使用

**2.3 多语言支持**
- **语言切换**: 支持中文、英语、马来语三种语言切换
- **内容适配**: 所有UI文本、提示信息、帮助文档支持多语言
- **RTL支持**: 考虑马来语的从右到左阅读习惯

## 三、技术实现方案与约束

### 1. 前端架构
- **分层架构**: 表现层、业务逻辑层、数据访问层清晰分离
- **组件化开发**: 按功能模块划分组件，提高复用性
- **状态管理**: 使用Pinia管理全局状态，遵循单一数据源原则
- **路由管理**: 采用Vue Router实现SPA路由，支持懒加载

### 2. 核心功能实现方案

**2.1 AI识别模块**
- **图像识别**: 集成第三方AI服务API（如百度AI、阿里云视觉）
- **语音识别**: 集成Web Speech API或第三方语音识别服务
- **本地缓存**: 使用IndexedDB缓存常见垃圾特征和识别结果
- **数据同步**: 弱网环境下暂存数据，网络恢复后自动同步

**2.2 交互优化方案**
- **骨架屏**: 使用CSS实现骨架屏，结合Vue指令控制显示
- **预加载**: 核心资源和常用组件预加载
- **图片优化**: 使用WebP格式、懒加载、响应式图片
- **动画效果**: 使用CSS transition和transform实现流畅动画

**2.3 多语言实现**
- **国际化框架**: Vue I18n
- **翻译资源**: 集中管理翻译文件，支持动态加载
- **日期/数字格式**: 适配不同语言的日期、时间、数字显示格式

### 3. 约束条件
- **浏览器兼容性**: 支持iOS Safari 14+、Android Chrome 88+、PC Chrome 90+等主流浏览器
- **安全要求**: 用户数据加密存储，API调用使用HTTPS，敏感信息不存储在本地
- **可访问性**: 符合WCAG 2.1 AA级标准
- **性能指标**: 页面首屏加载时间≤3秒，LCP≤2.5秒，FID≤100ms

## 四、任务边界限制与验收标准

### 1. 任务边界
- **前端范围**: 移动端Web应用的全部前端功能实现
- **后端依赖**: 本阶段以Mock数据为主，提供API接口规范
- **第三方集成**: 仅集成公开可用的第三方服务（如地图、AI识别）
- **硬件要求**: 无特殊硬件要求，使用设备自带功能

### 2. 验收标准
- **功能完整性**: 所有需求功能点100%实现
- **性能指标**: 达到规定的页面加载和交互响应时间要求
- **兼容性**: 在规定的浏览器和设备上测试通过
- **代码质量**: 遵循Vue.js代码规范，通过ESLint检查
- **文档完整性**: 项目文档齐全，包括设计文档、使用文档等
- **用户体验**: 交互流畅，符合用户预期，无明显卡顿

## 五、项目假设与风险

### 1. 关键假设
- AI识别服务接口稳定可用
- 用户设备支持Web Camera API和MediaRecorder API
- 网络环境满足基本的数据传输需求
- 第三方地图服务覆盖马来西亚主要城市

### 2. 潜在风险
- **技术风险**: AI识别准确率不达标，影响用户体验
- **性能风险**: 页面加载慢，交互卡顿
- **兼容性风险**: 不同设备和浏览器的兼容性问题
- **依赖风险**: 第三方服务不可用或服务变更

### 3. 风险应对策略
- **技术风险**: 建立AI识别结果人工审核机制，持续优化模型
- **性能风险**: 实施前端性能监控，定期优化
- **兼容性风险**: 建立全面的测试矩阵，覆盖主流设备和浏览器
- **依赖风险**: 预留备选方案，实现服务降级机制

## 六、项目团队与沟通机制
- **团队成员**: 前端开发、UI/UX设计、产品经理、测试工程师
- **沟通方式**: 每日站立会议、周报、项目管理工具（如Jira）
- **文档管理**: GitLab/ GitHub Wiki、Markdown文档
- **变更管理**: 严格遵循变更控制流程，避免需求蔓延